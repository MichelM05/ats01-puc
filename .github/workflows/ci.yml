jobs:
  test:
    runs-on: ubuntu-latest  # Ambiente de execução no GitHub Actions, você pode ajustar conforme necessidade
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v2  # Faz o checkout do seu repositório para o ambiente de CI

    - name: Set up PHP
      uses: shivammathur/setup-php@v2  # Instala o PHP no ambiente de CI
      with:
        php-version: '8.1'  # Atualizando para PHP 8.1 (ou superior)

    - name: Install dependencies
      run: |
        composer install --no-interaction  # Instala todas as dependências do projeto

    - name: Ensure phpunit is executable
      run: chmod +x ./vendor/bin/phpunit  # Dá permissão de execução ao arquivo phpunit

    - name: Run tests
      run: ./vendor/bin/phpunit tests  # Executa os testes com o PHPUnit na pasta 'tests'